---
title: Faites voyager vos Entitées à Lombok
date: "2019-06-10T14:50:00+02:00"
excerpt: "Comment se faciliter la crétion des POJO en java avec Lombok"
tags: [java, pojo, lombok, programmation, planetlibre]
image: back.png
draft: true
---

Je sais q’il existe quelques article sur le sujet mais pas assez à mon gout. Je fais pas mal de veille et au final j’ai entendu parlé de cette lib assez tard, mais depuis je suis un grand fan.

## La création de POJO

Depuis toujours, quand on crée nos POJO pour trimballer nos données ou autres, ça donne ça :

```java

public final class PcNeufKc {
    private final String marque;
    private final ImmutableList<String> options;

    public PcNeufKc(String marque, List<String> options) {
        this.marque = marque;
        this.options = options;
    }

    public String getMarque() {
        return marque;
    }

    public List<String> getOptions() {
        return options;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        PcNeufKc pcNeufKc = (PcNeufKc) o;
        return Objects.equals(marque, pcNeufKc.marque) &&
                Objects.equals(options, pcNeufKc.options);
    }

    @Override
    public int hashCode() {
        return Objects.hash(marque, options);
    }
}

```

Bon alors oui, je suis plus pour l’immutabilité alors je prend un example immutable. `ImmutableList` de `Guava` fait bien l’affaire. En vrai j’ai aussi tendance à mettre les membres `public` pour m’éviter les getters et simplifier les accès mais pour l’example ça m’arrangait avec. Mais bon Imutable ou pas, c’est un autre sujet.

Alors certes, les IDE récents génèrent plus ou moins automatiquement tout ces trucs, getters, equals, hashcode, ... certains même les Builder. Mais ça reste fastidieux et il ne faut pas oublié de les générer, sans parlé de la verbosité de la classe qui fait pas loin de 40 lignes avec les imports pour ne rien faire.

## Avec Lombok

C’est là qu’intervient [Lombok](https://projectlombok.org/). Cette librairie va pour simplifier la création des POJOs, grace à des annotations que l’on pose sur la classe est les attributs.

```java
@AllArgsConstructor
@Getter
@EqualsAndHashCode
public class PcNeufKc {
    private final String marque;
    private final ImmutableList<String> options;
}
```

Voilà ma classe avec les mêmes méthodes mais via `lombok`. On passe à 15 lignes !

La chose sympa c’est que `lombok` fonctionne par annotation processing, à la compilation. 